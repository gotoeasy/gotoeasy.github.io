import{r as y,aC as C,c as m,k as p,h as t,d as x,F as B,m as q,e as a,aB as D,$ as F,ah as M,ai as P,Q as S,g as d,l as v,E as $,s as N,X as T,S as I,T as O}from"./index-332affe8.js";/* empty css                *//* empty css                */import{_ as R}from"./DictSelect-30ecc0f6.js";/* empty css                       *//* empty css                 *//* empty css                     *//* empty css                  *//* empty css               *//* empty css                  */const _={__name:"RoleSelect",setup(r){const c=y([]),f=()=>{F("/common/api/dict",{code:"id",name:"role_name",dict:"sys_role"}).then(b=>{b.success&&(c.value=b.data)})};C(()=>{f()});const e=()=>{f()};return(i,b)=>{const V=M,w=P;return m(),p(w,D(i.$attrs,{multiple:"",clearable:"",style:{width:"100%"},onClear:e}),{default:t(()=>[(m(!0),x(B,null,q(a(c),u=>(m(),p(V,{key:u.code,value:u.code,label:u.name},null,8,["value","label"]))),128))]),_:1},16)}}},W={__name:"UserPageDetailForm",props:{data:{type:Object,default(){return{}}},readonly:{type:Boolean,default:!0},isCreateMode:{type:Boolean,default:!1}},setup(r,{expose:c}){const e=y(r.data),i=y(),V=S({username:[{required:!0,message:"请输入账号",trigger:"blur"}],realname:[{required:!0,message:"请输入姓名",trigger:"blur"}],roles:[{required:!0,message:"请选择角色",trigger:"blur"}],password1:[{required:!0,message:"请输入密码",trigger:"blur"}],password2:[{required:!0,validator:(u,l,s)=>{l?l!==e.value.password1?s(new Error("两次输入密码不一致")):s():s(new Error("请确认密码"))},trigger:"blur"}]});return c({validate:u=>i.value.validate(u)}),(u,l)=>{const s=$,n=N,U=_,E=T,g=R,h=I,k=O;return m(),p(k,{ref_key:"form",ref:i,model:a(e),rules:a(V),"label-width":"auto","label-position":"right","status-icon":""},{default:t(()=>[d(h,{shadow:"never"},{default:t(()=>[d(n,{label:"账号",prop:"username"},{default:t(()=>[d(s,{modelValue:a(e).username,"onUpdate:modelValue":l[0]||(l[0]=o=>a(e).username=o),disabled:!r.isCreateMode,placeholder:"请输入账号"},null,8,["modelValue","disabled"])]),_:1}),d(n,{label:"姓名",prop:"realname"},{default:t(()=>[d(s,{modelValue:a(e).realname,"onUpdate:modelValue":l[1]||(l[1]=o=>a(e).realname=o),disabled:r.readonly,placeholder:"请输入姓名"},null,8,["modelValue","disabled"])]),_:1}),r.isCreateMode?(m(),p(n,{key:0,label:"密码",prop:"password1"},{default:t(()=>[d(s,{modelValue:a(e).password1,"onUpdate:modelValue":l[2]||(l[2]=o=>a(e).password1=o),type:"password",placeholder:"请输入密码",autocomplete:"new-password"},null,8,["modelValue"])]),_:1})):v("",!0),r.isCreateMode?(m(),p(n,{key:1,label:"确认密码",prop:"password2"},{default:t(()=>[d(s,{modelValue:a(e).password2,"onUpdate:modelValue":l[3]||(l[3]=o=>a(e).password2=o),type:"password",placeholder:"请确认密码",autocomplete:"new-password"},null,8,["modelValue"])]),_:1})):v("",!0),d(n,{label:"角色",prop:"roles"},{default:t(()=>[d(U,{modelValue:a(e).roles,"onUpdate:modelValue":l[4]||(l[4]=o=>a(e).roles=o),disabled:r.readonly,placeholder:r.readonly?" ":"请选择"},null,8,["modelValue","disabled","placeholder"])]),_:1}),d(n,{label:"生日"},{default:t(()=>[d(E,{modelValue:a(e).birthday,"onUpdate:modelValue":l[5]||(l[5]=o=>a(e).birthday=o),disabled:r.readonly,type:"date",placeholder:r.readonly?"":"请输入生日"},null,8,["modelValue","disabled","placeholder"])]),_:1}),d(n,{label:"用户类型"},{default:t(()=>[d(g,{modelValue:a(e).userType,"onUpdate:modelValue":l[6]||(l[6]=o=>a(e).userType=o),dict:"user-type",disabled:r.readonly,placeholder:r.readonly?" ":"请选择"},null,8,["modelValue","disabled","placeholder"])]),_:1}),d(n,{label:"性别"},{default:t(()=>[d(g,{modelValue:a(e).sex,"onUpdate:modelValue":l[7]||(l[7]=o=>a(e).sex=o),dict:"sex",disabled:r.readonly,placeholder:r.readonly?" ":"请选择"},null,8,["modelValue","disabled","placeholder"])]),_:1}),d(n,{label:"邮箱"},{default:t(()=>[d(s,{modelValue:a(e).email,"onUpdate:modelValue":l[8]||(l[8]=o=>a(e).email=o),disabled:r.readonly,placeholder:r.readonly?"":"请输入邮箱"},null,8,["modelValue","disabled","placeholder"])]),_:1}),d(n,{label:"手机"},{default:t(()=>[d(s,{modelValue:a(e).phone,"onUpdate:modelValue":l[9]||(l[9]=o=>a(e).phone=o),disabled:r.readonly,placeholder:r.readonly?"":"请输入手机"},null,8,["modelValue","disabled","placeholder"])]),_:1}),d(n,{label:"工号"},{default:t(()=>[d(s,{modelValue:a(e).workNo,"onUpdate:modelValue":l[10]||(l[10]=o=>a(e).workNo=o),disabled:r.readonly,placeholder:r.readonly?"":"请输入工号"},null,8,["modelValue","disabled","placeholder"])]),_:1})]),_:1})]),_:1},8,["model","rules"])}}};export{W as default};
