/* gotoEasy 0.1, (c) 2016 Zhang Ming, @license MIT (http://gotoeasy.github.io) */
!function(n,e){function t(){Fn=null==re.debug?1:re.debug,Sn=re.domAttrBind||(re.domAttrBind="data-bind"),Dn=fn+Sn+cn,_n=re.dataKeyFnId||(re.dataKeyFnId="_$id"),Rn=re.dataKeyFnParent||(re.dataKeyFnParent="_$parent"),$n=re.dataKeyFnRoot||(re.dataKeyFnRoot="_$root"),Ln=re.dataKeyFnData||(re.dataKeyFnData="_$data"),In=re.bindRefRoot||(re.bindRefRoot="$root"),Tn=re.bindRefParent||(re.bindRefParent="$parent"),qn=re.bindRefData||(re.bindRefData="$data"),Pn=re.bindKeyField||(re.bindKeyField="field"),En=re.bindKeyValue||(re.bindKeyValue="value"),Vn=re.bindKeyInnerText||(re.bindKeyInnerText="text"),Hn=re.bindKeyInnerHtml||(re.bindKeyInnerHtml="html"),Bn=re.bindKeyOptions||(re.bindKeyOptions="options"),Mn=re.bindKeyReadonly||(re.bindKeyReadonly="readonly"),Jn=re.bindKeyDisabled||(re.bindKeyDisabled="disabled"),Un=re.bindKeyVisible||(re.bindKeyVisible="visible"),Wn=re.bindKeyChecked||(re.bindKeyChecked="checked"),Xn=re.bindKeyStyle||(re.bindKeyStyle="style"),Yn=re.bindKeyClass||(re.bindKeyClass="class"),zn=re.bindKeyForeach||(re.bindKeyForeach="foreach"),Gn=re.bindKeyWith||(re.bindKeyWith="with"),Qn=re.bindKeyIf||(re.bindKeyIf="if"),Zn=re.bindKeyClick||(re.bindKeyClick="click"),ne=re.eventDataChage||(re.eventDataChage="datachange"),ee=re.eventUpdateView||(re.eventUpdateView="updaueview"),te=re.uidPrefixData||(re.uidPrefixData="d"),ie=re.uidPrefixTemplate||(re.uidPrefixTemplate="t")}function r(n){return n?(h(re,n),t(),y(re)):y(re)}function a(n){return a[n]=a[n]||1,n+a[n]++}function o(n,e){return n.slice(0,e.length)===e}function u(n){return n.replace(/(^\s*)|(\s*$)/g,"")}function f(n){return null==n?"":n}function l(n){return s(n)?JSON.stringify(n):JSON.parse(n)}function c(n){return Array.isArray&&Array.isArray(n)||n instanceof Array||"[object Array]"==Object.prototype.toString.call(n)}function d(n){return n&&Object.prototype.toString.call(n)===dn}function s(n){return null!==n&&typeof n===vn}function v(n){return typeof n==sn&&n.constructor==Function}function p(n,e){return d(n)&&void 0!==n[e]}function h(n,e){if(d(e)){Object.keys(n);for(var t in e)n[t]=e[t]}}function y(n){var e={};for(var t in n)e[t]=n[t];return e}function b(n,e,t){var i=[];if((!e||0>e)&&(e=0),(!t||t>n.length)&&(t=n.length),e>=t)return i;for(var r=e;t>r;r++)i.push(n[r]);return i}function g(n,e){for(var t=0;t<n.length&&e(n[t],t)!==!1;t++);}function K(n,e,t){try{return e.apply(n,t)}catch(i){O(arguments,i)}}function x(n){return new Option(n).innerHTML.replace(/"/g,"&quot;")}function O(){N("warn",fe.call(arguments),Fn)}function m(){N("error",fe.call(arguments),1)}function N(n,e,t){if(t){for(var i=[],r=0;r<e.length;r++)i.push("_["+r+"]");var a="console."+n+"(";a+=i.join(","),a+=")";try{new Function("_",a)(e)}catch(o){console.warn(n,e,o)}}}function A(n,e,t,i){if(!n[_n])return void(n[e]=t);var r=n[e];if(i||s(t)||t!==r)if(w(t,n,e),n[e]=t,an(ne,n,e,t,r),c(n)){var a=n[Rn]();for(k in a)a[k]===n&&on(ee,a,k,t,r)}else on(ee,n,e,t,r)}function C(n){return ce[n]}function j(n){return n&&n[_n]()}function w(n,e,t){if(s(n))if(F(n,e),d(n))for(var i in n)w(n[i],n,i);else if(c(n)){for(var r=0;r<n.length;r++)w(n[r],n,r);n[Rn]()&&S(n,e,t)}}function F(n,e){var t=n[_n]?j(n):a(te),i=e?j(e):null,r=e?j(e[$n]()):t;ce[t]=n,n[_n]=function(){return t},n[Rn]=function(){return C(i)},n[$n]=function(){return C(r)},n[Ln]=function(){return this}}function S(n,e,t){n.x||(g(["push","pop","shift","unshift","splice","sort","reverse"],function(i){var r=n[i];n[i]=function(){var a=n.length,o=r.apply(n,arguments);if("push"==i)for(var u=a;o>u;u++)w(n[u],n,u);else if("unshift"==i)for(var u=0;o-a>u;u++)w(n[u],n,u);return an(ne+" "+ee,e,t,n),o}}),n.x=1)}function D(n,e,t,r){if(p(n,e))return t&&t.push(j(n)+"-"+e),n[e];var a=j(n)+"#"+e;if(t||!ve[a]){var u=[],f=e.replace(de,function(n){var e="{"+u.length+"}";return u.push(n),e});for(f=f.replace(se,function(e){if(/^\d+(\.\d+)?$/g.test(e)||ye.indexOf(e)>=0||o(e,"]"))return e;if(e=e.split(In).join($n+"()"),e=e.split(Tn).join(Rn+"()"),e=e.split(qn).join(Ln+"()"),t){var i=R(n,"return _."+e);i&&t.push(i)}return"_."+e}),i=0;i<u.length;i++)f=f.replace("{"+i+"}",u[i]);ve[a]=ve[a]||_("return "+f)}if(r)return ve[a];if(!t)try{return ve[a](n)}catch(l){return void m("#2",ve[a],n,e,l)}}function _(n){try{return new Function("_",n)}catch(e){m("#1",n)}}function R(n,e){var t=_(e);if(t){var i=t(n);if(e.indexOf(gn)<0)return j(n)+"-"+e;var r=e.split(gn),a=r.pop();if(s(i))return j(i[Rn]())+"-"+a;if(t=_(r.join(gn)))return j(t(n))+"-"+a}}function $(n,e,t){if(n[pe])return l(n[pe]);var i=L(n);if(!i)return 0;if(i[ae]=j(e),t)for(var r in i)if(r!=ae&&r!=Pn&&r!=Zn)if(r==Xn||r==Yn)for(var a,o=i[r].split(";"),u=0;u<o.length;u++){a=o[u].split("=");var f=[];D(e,a[1],f);for(var c=0;c<f.length;c++)t.push(f[c])}else{var f=[];D(e,i[r],f);for(var u=0;u<f.length;u++)t.push(f[u])}return i}function L(n){var e,t,i={},r=nn(n,Sn);if(!r)return null;var a=r.replace(/,{1}\s*\w+\s*:{1}/g,function(n){return"	"+n.substring(1)});return e=a.split("	"),g(e,function(n){t=n.split(bn),i[u(t[0]).toLowerCase()]=u(n.substring(n.indexOf(bn)+1))}),i}function I(n,e){var t=[],i=$(n,e,t);if(g(t,function(e){G(n,e)}),!i[Pn]){var r=i[En]||i[Vn];void 0!==e[r]&&(i[Pn]=r)}n[pe]=l(i)}function T(n,t){for(var i=n.querySelectorAll(t||Dn),r=H(xe),o=[],u=0;u<r.length;u++)o.push(fn+Sn+ln+r[u]+cn);g(i,function(n){var t=L(n),i=0;for(var u in t)r.indexOf(u)>=0&&(i=1);if(i){for(var f=0;f<r.length;f++)q(n,o[f],r[f])&&T(n);var l=e.createDocumentFragment(),c=b(n.childNodes);g(c,function(n){l.appendChild(n.cloneNode(!0))});var d=a(ie);e[d]=l,Z(n,he,d),en(n)}})}function q(n,e,t){for(var i=n.querySelectorAll(e),r=0;r<i.length;r++){var a=L(i[r]);if(a[t])return!0}return!1}function P(n,t){T(t||e);var i=(t||e).querySelectorAll(Dn);g(i,function(e){I(e,n)})}function E(n){var t=(n||e).querySelectorAll(Dn);g(t,function(n){W(n)})}function V(n,e,t,i,r,a){var o={};o[be]=n,o[ge]=e,o[Ke]=t||0,o[xe]=!!i,o[Oe]=r,oe[n]=o}function H(n){var e,t=[];for(e in oe)n?oe[e][n]&&t.push(e):t.push(e);return t}function B(){oe||(oe={},V("*",function(n,e,t){Z(n,e,x(f(t)))}),V(En,function(n,e,t){var i=D(e,t);n.value=f(i),oe[Pn][ge](n,e,t,i)}),V(Mn,function(n,e,t){var i=D(e,t);n.readOnly=!!i}),V(Jn,function(n,e,t){var i=D(e,t);n.disabled=!!i},5),V(Wn,function(n,e,t){var i=D(e,t);c(i)?n.checked=i.indexOf(n.value)>=0:n.checked=i==n.value,oe[Pn][ge](n,e,t,i)}),V(Un,function(n,e,t){var i=D(e,t);J(n,[pn,hn]),i?n.style.visibility=Nn:n.style.display=kn},5),V(Xn,function(n,e,t){var i=[],r=[];if(M(t,i,r),i.length){for(var a=[],o=0;o<i.length;o++)a.push(i[o]+bn+D(e,r[o]));J(n,i,a.join(Kn))}},5),V(Yn,function(n,e,t){var i=[],r=[];if(M(t,i,r),i.length)for(var a=0;a<i.length;a++)D(e,r[a])?G(n,i[a]):Q(n,i[a])}),V(Vn,function(n,e,t){var i=D(e,t);n.textContent=null==i?On:i}),V(Hn,function(n,e,t){var i=D(e,t);n.innerHTML=null==i?On:i}),V(Pn,function(n,e,t,i){var r=$(n)[Pn];r&&r!=t&&A(e,r,i)}),V(Bn,function(n,e,t){var i=D(e,t);if(n.length=0,null!=i&&!d(i)){var r=n.options;c(i)||(i=i.split(Kn).join(yn).split(yn)),g(i,function(n){if(d(n))r[r.length]=new Option(n.text,n.value);else if(null==n)r[r.length]=new Option(On,On);else{var e=n.split(bn);r[r.length]=new Option(e.length>1?e[1]:n,e[0])}})}},5),V(Zn,null,0,0,"click"),V(zn,function(n,e,t){var i=D(e,t);en(n),i&&i.length&&n.appendChild(U(i,n,!0))},7,1),V(Gn,function(n,e,t){var i=D(e,t);en(n),n.appendChild(U(i,n))},8,1),V(Qn,function(n,e,t){var i=D(e,t);return en(n),i?void n.appendChild(U(e,n)):!1},9,1))}function M(n,e,t){var i,r,a=n.split(Kn);for(i=0;i<a.length;i++)r=a[i].split(xn),2==r.length&&(e.push(u(r[0])),t.push(u(r[1])))}function J(n,e,t){var i=[],r=nn(n,mn);if(r){var a=[],o=[];M(r,a,o);for(var u=0;u<a.length;u++)e.indexOf(k)<0&&i.push(a[u]+bn+o[u]);return t&&i.push(t),r=i.join(Kn),Z(n,mn,r),r}}function U(n,t,i){var r;return i?(r=e.createDocumentFragment(),c(n)&&n.length>0&&g(n,function(n){if(n){for(var e,i=U(n,t),a=0;a<i.childNodes.length;a++)i.childNodes[a].tagName==An&&(e=i.childNodes[a]);if(e)for(var a=0;a<e.childNodes.length;a++)r.appendChild(e.childNodes[a]);else r.appendChild(i)}})):(r=e[nn(t,he)].cloneNode(!0),g(r.querySelectorAll(Dn),function(e){I(e,n),W(e)})),r}function W(n,e,t){if(e=e||$(n),!ue){ue=[];for(k in oe)ue.push(oe[k]);ue.sort(function(n,e){return n[Ke]==e[Ke]?0:n[Ke]<e[Ke]?1:-1})}g(ue,function(i){function r(){try{var e=D(o,a,0,1);e.call(o,o)}catch(t){m("#3",n,a,o,t)}}var a=e[i[be]],o=C(e[ae]);if(a){if(t&&a.indexOf(t)<0)return;i[Oe]?z(i[Oe],r,n):i[ge](n,o,a)}});for(var i in e)if(!oe[i]&&i!=ae){var r=e[i];if(!(t&&r.indexOf(t)<0)){var a=C(e[ae]),o=D(a,r);oe[Cn][ge](n,i,o)}}}function X(n,t){for(var i=e.querySelectorAll(gn+j(n)+jn+t),r=0;r<i.length;r++)W(i[r],On,t)}function Y(n){var e=n.target,t=$(e);if(t){var i=t[Pn]||t[En]||t[Wn];if(null!=i){var r=C(t[ae]),a=r[i];"checkbox"==e.type?c(a)?e.checked?a.indexOf(e.value)<0&&a.push(e.value):a.indexOf(e.value)>=0&&a.splice(a.indexOf(e.value),1):a=e.checked?e.value:On:a=e.value,A(r,i,a)}}}function z(n,e,t){t.addEventListener?t.addEventListener(n,e,!1):t.attachEvent?t.attachEvent("on"+n,e):t["on"+n]=e}function G(n,e){if(wn)if(n.className){var t=n.className.split(" ");if(t.indexOf(e)>=0)return;t.push(e),n.className=t.join(" ")}else n.className=e;else n.classList.contains(e)||n.classList.add(e)}function Q(n,e){if(wn){var t=n.className.split(" "),i=t.indexOf(e);i>=0&&(t.slice(i,1),n.className=t.join(" "))}else n.classList.remove(e)}function Z(n,e,t){return n.setAttribute(e,t)}function nn(n,e){return n.getAttribute(e)}function en(n){try{n.innerHTML=""}catch(e){for(;n.firstChild;)n.removeChild(n.firstChild)}}function tn(n,e){n&&v(e)&&n.replace(me,function(n,t){(Ne[n]=Ne[n]||[]).push(e)})}function rn(n,e){n&&"*"!=n?e?n.replace(me,function(n){for(var t=Ne[n],i=0;i<t.length;i++)e===t[i]&&t.splice(i--,1)}):n.replace(me,function(n){Ne[n]=[]}):Ne={}}function an(n,e){var t=fe.call(arguments,1);n.replace(me,function(n){for(var i=Ne[n]||[],r=0;r<i.length;r++)K(e,i[r],t)})}function on(n,e,t){var i=(isNaN(n)?0:n,isNaN(n)?fe.call(arguments,0):fe.call(arguments,1));le(function(){an.apply(null,i)},n)}function un(n,t,i){i&&r(i),B(),w(n);var a=t?e.querySelector(t):e;P(n,a),E(a),tn(ee,X),z("change",Y,e)}var fn="[",ln="*=",cn="]",dn="[object Object]",sn="function",vn="object",pn="visibility",hn="display",yn=",",bn=":",gn=".",Kn=";",xn="=",On="",mn="style",Nn="visible",kn="none",An="TBODY",Cn="*",jn="-",wn=n==e&&e!=n;"number"==typeof n.screenX;Array.prototype.indexOf||(Array.prototype.indexOf=function(n,e){for(var t=e||0;t<this.length;t++)if(this[t]===n)return t;return-1});var Fn,Sn,Dn,_n,Rn,$n,Ln,In,Tn,qn,Pn,En,Vn,Hn,Bn,Mn,Jn,Un,Wn,Xn,Yn,zn,Gn,Qn,Zn,ne,ee,te,ie,re={},ae="$d";t();var oe,ue,fe=Array.prototype.slice,le=setTimeout,ce={},de=/(['"])[^'"]*\1/g,se=/([\w$_\.\[\]]+)/g,ve={},pe="_bindInfo",he="_template",ye="true false null alert this _ if else".split(" "),be="k",ge="f",Ke="o",xe="t",Oe="e",me=/\S+/g,Ne={};n.addEventListener("beforeunload",function(n){ce=null,oe=null,ue=null,Ne=null,ve=null});var ke={};ke.settings=r,ke.bind=un,ke.set=A,ke.on=tn,ke.off=rn,ke.notify=on,"object"==typeof exports?module.exports=ke:"function"==typeof define&&define.amd?define(function(){return ke}):n.gotoEasy=n.$easy=ke}(window,document);