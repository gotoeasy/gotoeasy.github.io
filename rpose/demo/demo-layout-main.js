!function(e,t){const n=e==t&&t!=e,r=["autofocus","hidden","readonly","disabled","checked","selected","multiple","translate","draggable","noresize"],i="$SLOT",l=(...e)=>console.warn(...e),s=(...e)=>console.error(...e),o=e=>Object.prototype.toString.call(e),a=e=>"function"==typeof e&&e.constructor==Function,f=e=>"string"==typeof e,c=e=>Array.isArray(e)||e instanceof Array,u=e=>"[object Object]"===o(e),h=e=>"[object Date]"===o(e),d=e=>"[object Map]"===o(e),p=e=>"[object Set]"===o(e),v=e=>e.toLowerCase(),g=(()=>{let t={},n=(e,n)=>(t[v(e)]||(t[v(e)]=new Set)).add(n),r=(e,n)=>{let r=t[v(e)];r&&(n?r.delete(n):delete t[v(e)])},i=(e,...n)=>{let i,l=t[v(e)];return l&&(l.forEach(t=>{t["ONCE_"+v(e)]&&l.delete(t)&&delete t["ONCE_"+v(e)],i=t(...n)}),!l.size&&r(e)),i};return e.onload=(t=>i("window.onload",t)>(e.onload=null)),{on:n,off:r,once:(e,t)=>{t["ONCE_"+v(e)]=1,n(e,t)},at:i}})(),m=function(){let e={},t=(t,n)=>e[v(t)]||(e[v(t)]=n);return t("*",(e,t,n)=>a(n)||null==n?e.getAttribute(t):e.setAttribute(t,n)),r.forEach(e=>t(e,(t,n,r)=>void 0===r?t[e]:t[e]=I(r))),t("value",(e,t,n)=>void 0===n?e.value:e.value=null==n?"":n),t("innerHTML",(e,t,n)=>void 0===n?e.innerHTML:e.innerHTML=null==n?"":n),t("innerTEXT",(e,t,n)=>void 0===n?e.textContent:e.textContent=null==n?"":n),t("textcontent",(e,t,n)=>void 0===n?e.textContent:e.textContent=null==n?"":n),t("image.src",(e,t,n)=>void 0===n?e.src:e.src=n),t("class",(e,t,n)=>{if(void 0===n)return e.className;if(u(n))for(let t in n)n[t]?$(e).addClass(t):$(e).removeClass(t);else $(e).addClass(n)}),t("style",(e,t,n)=>{if(void 0===n)return e.getAttribute("style");let r=E(n);for(let t in r)e.style[t]=r[t]}),{at:(t,n,r)=>(e[v(t.tagName+"."+n)]||e[v(n)]||e["*"]).apply(this,[t,n,r])}}();function E(e=""){if(u(e))return e;let t={};return e.split(";").filter(e=>""!=e.trim()).forEach(e=>{let n,r=e.split(":").filter(e=>""!=e.trim());2==r.length&&(n=v(r[0]).split("-").filter(e=>""!=e.trim()).map((e,t)=>t?e.charAt(0).toUpperCase()+e.substring(1):e).join(""),t[n]=r[1].trim())}),t}function $(e,n){if("object"==typeof e)return new y(e);let r,i=n||t,l="#"==e.substring(0,1);if(l)return new y((r=t.getElementById(e.substring(1)))?[r]:[]);if(i instanceof y){let t,n=[];if(l)for(let r=0;r<i.length;r++){t=i[r].querySelectorAll(e);for(let e=0;e<t.length;e++)n.push(t[e])}return new y(n)}return new y(i.querySelectorAll(e))}function y(r){let i=[];if(r)if(r.nodeType)i[0]=r;else if(r.length)for(let e=0;e<r.length;e++)r[e]&&i.push(r[e]);this.length=i.length;for(let e=0;e<i.length;e++)this[e]=i[e];return this.forEach=function(e){return i.forEach(e),this},this.replaceWith=function(e){let t,n,r;for(;i.length;)(n=(t=i.pop()).parentNode)&&(r?n.removeChild(t):r=t);return r&&(r.parentNode.insertBefore(e,r),r.parentNode.removeChild(r)),this},this.on=function(n,r){return i.forEach(i=>(function(n,r,i){e.WeakMap?(O(n,r,i),function e(n){e[n]||(e[n]=1,t.addEventListener?t.addEventListener(n,S,!1):t.attachEvent?t.attachEvent("on"+n,S):t["on"+n]=S)}(r)):n.addEventListener?n.addEventListener(r,i,!1):n.attachEvent?n.attachEvent("on"+r,i):n["on"+r]=i})(i,n,r)),this},this.addClass=function(e){return e&&(e=e.replace(/\./g,""))&&i.forEach(t=>{if(t)if(n)if(t.className){var r=t.className.split(" ");if(r.indexOf(e)>=0)return;r.push(e),t.className=r.join(" ")}else t.className=e;else e.split(/\s+/).forEach(e=>t.classList.contains(e)||t.classList.add(e))}),this},this.removeClass=function(e){return e&&(e=e.replace(/\./g,""))&&i.forEach(t=>{if(n){var r=t.className.split(" "),i=r.indexOf(e);i>=0&&(r.slice(i,1),t.className=r.join(" "))}else{e.split(/\s+/).forEach(e=>t.classList.remove(e))}}),this},this.attr=function(e,t){if(!i.length)return null==t?null:this;for(let n=0;n<i.length;n++){if(null==t)return m.at(i[0],e);m.at(i[n],e,t)}return this},this.removeChildren=function(){return i.forEach(e=>{try{e.innerHTML=""}catch(t){for(;e.firstChild;)e.removeChild(e.firstChild)}}),this},this.remove=function(){return i.forEach(e=>e.parentNode.removeChild(e)),this},this}function O(e,t,n){let r,i=O.m=O.m||new WeakMap;if(!n)return(r=i.get(e)||{})[t];!i.has(e)&&i.set(e,{}),((r=i.get(e))[t]||(r[t]=new Set)).add(n)}function S(e){let t=O(e.target||e.srcElement,e.type);t&&t.forEach(t=>t(e))}const C={},w={};function T(e,t){let n,r=C[e];if(!r)throw new Error("component not found: "+e);return n=r.Singleton?w[e]||(w[e]=_(r,t)):_(r,t)}function b(e,t){if(!e)return;let n=b.m||(b.m=new WeakMap);if(!t)return n.get(e);delete t.c;let r=n.get(e);if(!r)return n.set(e,t);if(!r.M){let t={M:1};t[r.t]=r,n.set(e,t),r=t}return r[t.t]=t,r}function N(e,n){let r,l;if(e.t)if(e.m){let t=new function(e){let t=D({},e.a||{},e.c&&e.c.length?{[i]:e.c}:{});return T(e.t,t)}(e);if(e.o=t,(r=t.render())&&((l=$(r)).addClass(t.$COMPONENT_ID),e.a&&e.a.ref)){let t=n.$refs=n.$refs||{},r=t.c=t.c||{},i=r[e.a.ref]=r[e.a.ref]||A("_ref_");l.addClass(e.r=i)}}else{if(/^script$/i.test(e.t))return k(e.a);if(/^link$/i.test(e.t))return x(e.a);if(l=$(r=e.g?t.createElementNS("http://www.w3.org/2000/svg",e.t):t.createElement(e.t)),e.a)for(let t in e.a){if("ref"==t){let r=n.$refs=n.$refs||{},i=r.e=r.e||{},s=i[e.a[t]]=i[e.a[t]]||A("_ref_");l.addClass(e.r=s)}l.attr(t,e.a[t])}if(e.e)for(let t in e.e)a(e.e[t])?$(r).on(t,e.e[t]):console.error("invalid event handle:",t,"=",e.e[t]);if(e.c)for(let t,i,l=0,s=e.c.length;l<s;l++)(t=e.c[l])&&(i=N(t,n))&&r.appendChild(i)}else r=t.createTextNode(e.s);return r&&b(r,e),r}function k(e){let n=k.s||(k.s=[]);if(!e||!e.src||n.includes(e.src))return;n.push(e.src);let r=t.createElement("script");r.src=e.src,r.type=e.type||"text/javascript",t.head.appendChild(r)}function x(e){let n=x.s||(x.s=[]);if(!e||!e.href||n.includes(e.href))return;n.push(e.href);let r=t.createElement("link");r.href=e.href,r.rel=e.rel||"stylesheet",t.head.appendChild(r)}function _(e,...n){let r=new e(...n);var o;return o=r,Object.defineProperty(o,"$COMPONENT_ID",{value:A("_cid_")}),Object.defineProperty(o,"isInitRender",{value:!0,writable:!0}),function(e){!e.render&&Object.defineProperty(e,"render",{get:()=>(function(e={}){let t,n,r;if(this.isInitRender)return L(this.$state,e,this.$STATE_KEYS),r=this.nodeTemplate(this.$state,this.$options,this.$actions),(t=N(r,this))&&1==t.nodeType&&$(t).addClass(this.$COMPONENT_ID),this.isInitRender=!1,t;if(L(this.$state,e,this.$STATE_KEYS),(n=$("."+this.$COMPONENT_ID)).length){if(this.$updater)this.$updater(e);else{let e=this.nodeTemplate(this.$state,this.$options,this.$actions);!function(e,t){let n=$("."+e.$COMPONENT_ID);if(!n.length)return void s("root node not found:",e.$COMPONENT_ID);if(!t)return void n.remove();let r=b(n[0]);if(r.M&&(r=r[t.t]),t.m)return void r.o.setState({[i]:t.c});let l=(r||{}).a||{},o=t.a||{};if(!r||r.k!=t.k||(r.t||r.t)&&r.t!=t.t||(l.id||o.id)&&l.id!=o.id||(l.ref||o.ref)&&l.ref!=o.ref){let r=N(t,e);return n.replaceWith(r),r}let a=P(r,t);if(a)for(let e in a)r.a[e]=a[e],n.attr(e,a[e]);j(e,n[0],t),n[0]}(this,e)}return t}l("dom node missing")})})}(r),function(e){Object.defineProperty(e,"getState",{get:()=>(function(){return L({},this.$state)})}),Object.defineProperty(e,"setState",{get:()=>(function(e){e&&this.render(e)})})}(r),function(e){Object.defineProperty(e,"getRefElements",{get:()=>(function(e){let n=this.$refs.e[e];return n?[...new Set(t.querySelectorAll("."+n))]:[]})}),Object.defineProperty(e,"getRefComponents",{get:()=>(function(e){let n=this.$refs.c[e];if(!n)return[];let r=[],i=[...new Set(t.querySelectorAll("."+n))];return i.forEach(e=>{let t=b(e);if(t&&t.M){for(let e in t)if(t[e].r==n){r.push(t[e].o);break}}else r.push(t.o)}),r})})}(r),function(e){Object.defineProperty(e,"getRootElement",{get:()=>(function(){let e=$("."+this.$COMPONENT_ID);return e.length?e[0]:null})})}(r),r}function j(e,t,n){let r=[...t.childNodes||[]],l=n.c||[];if(!r.length)return l.forEach(n=>t.appendChild(N(n,e)));let s=[],o=[];r.forEach(e=>s.push({vn:b(e),el:e})),l.forEach(e=>o.push({vn:e}));let a=1;if(s.length==o.length)for(let e,t,n=0;n<s.length;n++){if(!M(e=s[n],t=o[n])){a=0;break}e.S=1,t.S=1,t.wv1=e}else a=0;if(!a&&(o.forEach(e=>!e.S&&function(e,t){t.vn;for(let n,r=0;n=e[r++];)if(M(n,t))return n.S=1,t.S=1,t.wv1=n}(s,e)),s.filter(e=>e.S?1:$(e.el).remove()&&0),!s.length))return o.forEach(n=>t.appendChild(N(n.vn,e)));let f=0,c=s[f];for(let n,r=0;r<o.length;r++)if((n=o[r]).S)if(n.wv1!=c)if(s.splice(f,0,s.splice(s.indexOf(n.wv1),1)[0]),f++,t.insertBefore(n.wv1.el,c.el),n.vn.m)n.wv1.vn[n.vn.t].o.setState({[i]:n.vn.c});else{let e=P(n.wv1.vn,n.vn);if(e)for(let t in e)n.wv1.vn.a[t]=e[t],$$el.attr(t,e[t]);else n.vn.t||n.wv1.vn.s==n.vn.s||(n.wv1.vn.s=n.vn.s,el.textContent=n.vn.s)}else{if(n.vn.m)c.vn[n.vn.t].o.setState({[i]:n.vn.c});else{let e=P(c.vn,n.vn);if(e)for(let t in e)c.vn.a[t]=e[t],$(c.el).attr(t,e[t]);else n.vn.t||c.vn.s==n.vn.s||(c.vn.s=n.vn.s,c.el.textContent=n.vn.s)}c=s[++f]}else{let r=N(n.vn,e);r&&(c?t.insertBefore(r,c.el):t.appendChild(r))}o.forEach(t=>{t.S&&(t.vn.m?t.wv1.vn[t.vn.t].o.setState({[i]:t.vn.c}):j(e,t.wv1.el,t.vn))})}function M(e,t){if(e.S)return 0;let n=e.vn,r=t.vn;if(n.M&&!(n=n[r.t]))return 0;let i=n.a||{},l=r.a||{};return n.k!=r.k||(n.t||r.t)&&n.t!=r.t||(i.id||l.id)&&i.id!=l.id||(i.ref||l.ref)&&i.ref!=l.ref||(n.g||r.g)&&n.g!=r.g?0:1}function P(e,t){if(e.x)return 0;let n=e.a||{},l=t.a||{},s={},o=0;return Object.keys(l).forEach(e=>{if(n[e]!=l[e])if("class"==e){let t=function(e,t){let n=e||{},r=t||{},i={},l=0;return Object.keys(r).forEach(e=>{null==n[e]?(i[e]=I(r[e]),l=1):I(n[e])!=I(r[e])&&(i[e]=I(r[e]),l=1)}),l?i:null}(n[e],l[e]);t&&(s[e]=t,o=1)}else if(e==i);else if("style"==e){let t=function(e,t){let n=E(e),r=E(t),i={},l=0;return Object.keys(r).forEach(e=>{null==n[e]?(i[e]=r[e],l=1):n[e]!=r[e]&&(i[e]=r[e],l=1)}),l?i:null}(n[e],l[e]);t&&(s[e]=t,o=1)}else r.includes(e)?I(n[e])!=I(l[e])&&(s[e]=I(l[e]),o=1):(s[e]=l[e],o=1)}),o?s:0}function A(e){return e?(!A[e]&&(A[e]=1),e+A[e]++):(!A.n&&(A.n=1),A.n++)}function I(e){return!!e&&(!f(e)||!/^(0|false|f|no|n)$/i.test((e+"").trim()))}function L(...e){if(!e.length||c(e[0])||!e[0])return null;let t=e[e.length-1];if(!t)return;let n=e[0];if(n.class=K(n.class),c(t))for(let r,i=0;i<e.length-1;i++)r=e[i],n!==r&&u(r)&&t.forEach(e=>{void 0!==r[e]&&("class"==e?Object.assign(n.class,K(r[e])):n[e]=Y(r[e]))});else for(let t,r=1;r<e.length;r++)if(t=e[r],n!==t&&u(t))for(let e in t)"class"==e?Object.assign(n.class,K(t[e])):n[e]=Y(t[e]);return n}function D(...e){if(!e.length||c(e[0])||!e[0])return null;let t=e[e.length-1];if(!t)return;let n=e[0];if(n.class=K(n.class),c(t))for(let r,i=1;i<e.length-1;i++)r=e[i],n!==r&&u(r)&&t.forEach(e=>{void 0!==r[e]&&("class"==e?Object.assign(n.class,K(r[e])):n[e]=r[e])});else for(let t,r=1;r<e.length;r++)if(t=e[r],n!==t&&u(t))for(let e in t)"class"==e?Object.assign(n.class,K(t[e])):n[e]=t[e];return n}function K(e){if(null==e)return{};if(u(e))return e;let t={};return e.split(/\s/).forEach(e=>e.trim()&&(t[e]=1)),t}function Y(e){if(!e)return e;if(u(e)){let n={};for(var t in e)n[t]=Y(e[t]);return n}if(c(e)){let t=[];for(var n=0;n<e.length;n++)t[n]=Y(e[n]);return t}return h(e)?new Date(e.getTime()):d(e)?new Map(e):p(e)?new Set(e):e}var q={};q.$$=$,q.registerComponents=function(e={}){for(let t in e)C[t]=e[t]},q.newComponentProxy=T,q.createDom=N,q.escapeHtml=function(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e},q.mount=function(e,n,r){(r||t).querySelector(n||"body").appendChild(e)},q.extend=L,q.assign=D,q.on=g.on,q.off=g.off,q.once=g.once,q.at=g.at,e.rpose=q}(window,document),function(e,t){function n(e={}){this.$options={},rpose.extend(this.$options,e,this.$OPTION_KEYS),this.$state={},rpose.extend(this.$state,e,this.$STATE_KEYS)}function r(e={}){this.$options={},rpose.extend(this.$options,e,this.$OPTION_KEYS),this.$state={},rpose.extend(this.$state,e,this.$STATE_KEYS)}rpose.registerComponents({"layout-main":n,"demo-layout-main":r}),n.prototype.$OPTION_KEYS=null,n.prototype.$STATE_KEYS=["$SLOT"],n.prototype.nodeTemplate=function(e,t,n){let r,i,l;return(e.$SLOT||[]).forEach(e=>{e.a&&"header"==e.a.slot&&(r=e.c),e.a&&"menu"==e.a.slot&&(i=e.c),e.a&&"page"==e.a.slot&&(l=e.c)}),{r:1,t:"div",a:{class:{_1bnu97e:1}},c:[{t:"div",a:{class:{_26j8b2q:1}},c:(()=>{let e=[];return r&&r.length&&e.push(...r),e})(),x:1,k:2},{t:"div",a:{class:{_1ekrncn:1}},c:[{t:"div",a:{class:{_3djcrp0:1}},c:(()=>{let e=[];return i&&i.length&&e.push(...i),e})(),x:1,k:4},{t:"div",a:{class:{_pqrl4u:1}},x:1,k:5},{t:"div",a:{class:{_313e2eh:1}},c:(()=>{let e=[];return l&&l.length&&e.push(...l),e})(),x:1,k:6}],x:1,k:3}],x:1,k:1}},r.prototype.$OPTION_KEYS=null,r.prototype.$STATE_KEYS=null,r.prototype.nodeTemplate=function(e,t,n){return{r:1,t:"layout-main",c:[{t:"div",a:{slot:"header"},c:[{t:"div",c:[{s:"header",k:4}],x:1,k:3}],x:1,k:2},{t:"div",a:{slot:"menu"},c:[{t:"div",c:[{s:"menu",k:7}],x:1,k:6}],x:1,k:5},{t:"div",a:{slot:"page"},c:[{t:"div",c:[{s:"page",k:10}],x:1,k:9}],x:1,k:8}],m:1,k:1}},rpose.mount(rpose.newComponentProxy("demo-layout-main").render(),"body")}(rpose.$$,rpose.escapeHtml);