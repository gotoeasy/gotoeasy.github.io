import{u as oe,a as ae,r as T,o as le,b as N,c as i,d as C,w as F,v as ie,e,f as d,g as t,h as n,i as re,j as _,k as m,l as f,F as b,m as se,n as de,t as ce,p as pe,q as _e,E as me,s as ue,x as ge,y as fe,z as he,A as we,B as ke,C as ye,D as Ce,_ as be,G as Se,H as ve,I as xe,J as ze,K as Ee,L as De}from"./index-919bd748.js";import{_ as Ve}from"./PageTableSetting-91e6a0aa.js";import{_ as $e}from"./SearchForm-2940a4b1.js";/* empty css                 *//* empty css               *//* empty css                  *//* empty css                     *//* empty css                    *//* empty css                   *//* empty css                  *//* empty css                        *//* empty css                         *//* empty css                */import{T as Ie}from"./ToobarLeftRight-306a3ad6.js";/* empty css               *//* empty css                */import{u as Pe}from"./useMainPageHooks-7046bddf.js";import{u as Be,_ as Me}from"./MaterialPageDetail-78786a51.js";import Te from"./MaterialPageInOut-4b63bcad.js";import"./_plugin-vue_export-helper-c27b6911.js";/* empty css                   */import"./useDetailPageHooks-0c6721b9.js";import"./MaterialPageDetailForm-6624d425.js";/* empty css                *//* empty css                        */import"./DictSelect-53263b13.js";/* empty css               */const Ne=d("span",null,"新 建",-1),Fe=d("span",{style:{"margin-left":"4px"}},"编辑",-1),He=d("span",{style:{"margin-left":"4px"}},"入库",-1),Le=d("span",{style:{"margin-left":"4px"}},"出库",-1),gt={__name:"MaterialMain",setup(Re){const S=oe("material"),H=ae(),L={mitt:S,pageSettingStore:Be(),defaultSearchCondition:{status:["10","30"]}},{formData:c,visible:R,tableData:U,tableHeight:v,pagging:r,pageSettingStore:p,showTableLoadding:O,hasSelect:j,onPaggingChange:x,fnSearch:h,fnCreate:A,fnEdit:q,fnView:z,fnDeleteRow:G,fnDeleteBatch:J,fnChangeColumnWidth:K,fnSwitchMaximizePage:W}=Pe(L),E=T(),w=T();return le(()=>S.emit("main:mounted",E)),(Ue,a)=>{const D=me,V=ue,Q=ge,u=fe,X=N("CirclePlusFilled"),k=he,l=we,$=N("arrow-down"),y=ke,I=ye,P=Ce,B=be,M=Se,g=ve,Y=xe,Z=ze,ee=Ee,te=De;return i(),C(b,null,[F(d("div",null,[t($e,{data:e(c),onSearch:e(h)},{default:n(()=>[t(Q,null,{default:n(()=>[t(V,{label:"编码"},{default:n(()=>[t(D,{modelValue:e(c).code,"onUpdate:modelValue":a[0]||(a[0]=o=>e(c).code=o)},null,8,["modelValue"])]),_:1}),t(V,{label:"名称"},{default:n(()=>[t(D,{modelValue:e(c).name,"onUpdate:modelValue":a[1]||(a[1]=o=>e(c).name=o)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["data","onSearch"]),t(u,{style:{margin:"0 0 8px"}}),t(Ie,{style:{"margin-bottom":"8px"},class:"c-btn"},{left:n(()=>[t(l,{type:"primary",onClick:e(A)},{default:n(()=>[t(k,null,{default:n(()=>[t(X)]),_:1}),Ne]),_:1},8,["onClick"]),t(P,{style:{"margin-left":"8px"},size:"default"},{dropdown:n(()=>[t(I,null,{default:n(()=>[t(y,{icon:e(re),onClick:e(J)},{default:n(()=>[_("批量删除")]),_:1},8,["icon","onClick"])]),_:1})]),default:n(()=>[t(l,{type:"warning",disabled:!e(j)},{default:n(()=>[_(" 批量操作"),t(k,{class:"el-icon--right"},{default:n(()=>[t($)]),_:1})]),_:1},8,["disabled"])]),_:1})]),right:n(()=>[t(M,{content:"刷新数据",placement:"top"},{default:n(()=>[t(l,{circle:"",onClick:a[2]||(a[2]=o=>e(h)(1))},{default:n(()=>[t(B,{name:"refresh-right"})]),_:1})]),_:1}),t(M,{content:"缩放页面",placement:"top"},{default:n(()=>[t(l,{circle:"",onClick:e(W)},{default:n(()=>[t(B,{name:"zoom"})]),_:1},8,["onClick"])]),_:1}),t(Ve,{"setting-store":e(p)},null,8,["setting-store"])]),_:1}),F((i(),m(Z,{ref_key:"table",ref:E,data:e(U),"max-height":e(v),height:e(v),border:"",stripe:"",size:"small",onHeaderDragend:e(K),onRowDblclick:e(z)},{empty:n(()=>[t(Y,{description:"暂无数据"})]),default:n(()=>[e(p).showSelection?(i(),m(g,{key:0,fixed:"",type:"selection","header-align":"center",align:"center",width:"36"})):f("",!0),e(p).showIndex?(i(),m(g,{key:1,fixed:"",type:"index",label:"#",index:o=>o+1,"header-align":"center",align:"center",resizable:!1},null,8,["index"])):f("",!0),(i(!0),C(b,null,se(e(p).header,(o,s)=>(i(),C(b,{key:s},[o.hidden?f("",!0):(i(),m(g,{key:0,prop:o.key,label:o.title,width:o.width>=1?o.width:"",fixed:o.fixed,align:o.align,"header-align":o.headerAlign,"show-overflow-tooltip":"",sortable:o.sortable},de({_:2},[o.key==="unit"?{name:"default",fn:n(ne=>[d("span",null,ce(e(H).name("unit",ne.row.unit)),1)]),key:"0"}:void 0]),1032,["prop","label","width","fixed","align","header-align","sortable"]))],64))),128)),e(p).showOperation?(i(),m(g,{key:2,fixed:"right",label:"操作",width:"220","header-align":"center",align:"center"},{default:n(o=>[t(l,{type:"primary",link:"",onClick:s=>e(q)(o.row)},{default:n(()=>[Fe]),_:2},1032,["onClick"]),t(u,{direction:"vertical"}),t(l,{type:"primary",link:"",onClick:s=>e(w).checkin(o.row)},{default:n(()=>[He]),_:2},1032,["onClick"]),t(u,{direction:"vertical"}),t(l,{type:"primary",link:"",onClick:s=>e(w).checkout(o.row)},{default:n(()=>[Le]),_:2},1032,["onClick"]),t(u,{direction:"vertical"}),t(P,{size:"default"},{dropdown:n(()=>[t(I,null,{default:n(()=>[t(y,{icon:e(pe),onClick:s=>e(z)(o.row)},{default:n(()=>[_("查看详情")]),_:2},1032,["icon","onClick"]),t(y,{icon:e(_e),onClick:s=>e(G)(o.row)},{default:n(()=>[_("删除数据")]),_:2},1032,["icon","onClick"])]),_:2},1024)]),default:n(()=>[t(l,{type:"primary",link:""},{default:n(()=>[_(" 更多"),t(k,{class:"el-icon--right"},{default:n(()=>[t($)]),_:1})]),_:1})]),_:2},1024)]),_:1})):f("",!0)]),_:1},8,["data","max-height","height","onHeaderDragend","onRowDblclick"])),[[te,e(O)]]),t(ee,{"current-page":e(r).pageNo,"onUpdate:currentPage":a[3]||(a[3]=o=>e(r).pageNo=o),"page-size":e(r).pageSize,"onUpdate:pageSize":a[4]||(a[4]=o=>e(r).pageSize=o),class:"c-pagging",total:e(r).total,"page-sizes":e(r).pageSizes,layout:"->,total, sizes, prev, pager, next, jumper",onSizeChange:e(x),onCurrentChange:e(x)},null,8,["current-page","page-size","total","page-sizes","onSizeChange","onCurrentChange"])],512),[[ie,e(R)]]),t(Te,{ref_key:"pageInOut",ref:w,onSaved:e(h)},null,8,["onSaved"]),t(Me)],64)}}};export{gt as default};
