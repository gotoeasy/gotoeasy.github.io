var F=Object.defineProperty;var A=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var E=(l,r,a)=>r in l?F(l,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[r]=a,k=(l,r)=>{for(var a in r||(r={}))G.call(r,a)&&E(l,a,r[a]);if(A)for(var a of A(r))I.call(r,a)&&E(l,a,r[a]);return l};import{M as H,N as q,u as J,r as B,$ as K,b as v,c as p,d as b,e,g as o,h as s,f as i,t as Q,k as T,l as g,j as W,O as X,F as Y,z as Z,x as ee,y as te,A as oe,P as ae}from"./index-919bd748.js";/* empty css                   */import{T as se}from"./ToobarLeftRight-306a3ad6.js";/* empty css                  *//* empty css               *//* empty css                */import{u as re}from"./useDetailPageHooks-0c6721b9.js";import V from"./UserPageDetailForm-4e84f8ce.js";const $="useUserPageSettingStore",le=H({id:$,state:()=>({drawerDetailMode:!0,pageSize:10,pageSizes:[10,20,30,50],showSelection:!0,showIndex:!0,showOperation:!0,header:[{key:"username",title:"账号",width:120,align:"center",sortable:!0,hidden:!1,headerAlign:"center"},{key:"realname",title:"姓名",width:120,align:"center",sortable:!0,hidden:!1},{key:"sex",title:"性别",width:120,align:"center",headerAlign:"center",fixed:!1},{key:"phone",title:"手机",width:120,align:"center",sortable:!0},{key:"birthday",title:"生日",width:120,align:"center",headerAlign:"center",sortable:!1,hidden:!1},{key:"email",title:"电子邮件",headerAlign:"left",sortable:!1},{key:"status",title:"状态",width:120,align:"center"},{key:"workNo",title:"工号",width:120,align:"center"},{key:"post",title:"职务",width:120,align:"center"},{key:"userType",title:"用户类型",width:120,align:"center"}]}),getters:{pageOptions(){return{pageTitle:"用户",urlAdd:"/system/user/add",urlEdit:"/system/user/edit",urlSearch:"/system/user/list",urlDelete:"/system/user/delete",urlDeleteBatch:"/system/user/deleteBatch"}}},actions:{},persist:q($)}),ne={key:0},ie={style:{"margin-left":"10px","font-size":"16px"}},de=i("span",null,"保 存",-1),ce=i("span",null,"返 回",-1),ue={style:{width:"700px"}},pe={key:1},_e={style:{padding:"0 60px"}},me=i("span",null,"保 存",-1),fe={__name:"UserPageDetail",setup(l){const r=J("user"),a=le(),S=B(),x=B(),z=k({mitt:r,editCallback:O},a.pageOptions),{formData:d,title:D,readonly:_,isCreateMode:h,visible:c,fnClose:w,fnSave:N}=re(z);function O(){const m={code:"role_id",name:"role_id",dict:"sys_user_role",key:"user_id",value:d.value.id};K("/common/api/dict",m).then(t=>{if(t.success){const f=[];t.data.forEach(n=>f.push(n.code)),d.value.roles=f}})}const C=m=>{const t=k({},d.value);h.value&&(t.password=t.password1,delete t.password1,delete t.password2),N(m,t)};return(m,t)=>{const f=v("Grid"),n=Z,M=ee,U=te,P=v("Select"),y=oe,L=v("ArrowLeft"),R=se,j=ae;return p(),b(Y,null,[!e(a).drawerDetailMode&&e(c)?(p(),b("div",ne,[o(M,{style:{"align-items":"center",height:"26px"}},{default:s(()=>[o(n,null,{default:s(()=>[o(f)]),_:1}),i("span",ie,Q(e(D)),1)]),_:1}),o(U,{style:{margin:"16px 0 8px"}}),o(R,{style:{"margin-bottom":"8px"},class:"c-btn"},{left:s(()=>[e(_)?g("",!0):(p(),T(y,{key:0,type:"primary",onClick:t[0]||(t[0]=u=>C(e(x)))},{default:s(()=>[o(n,null,{default:s(()=>[o(P)]),_:1}),de]),_:1})),o(y,{onClick:t[1]||(t[1]=u=>e(w)(e(a).drawerDetailMode))},{default:s(()=>[o(n,null,{default:s(()=>[o(L)]),_:1}),ce]),_:1})]),_:1}),i("div",ue,[o(V,{ref_key:"formPanel",ref:x,data:e(d),"is-create-mode":e(h),readonly:e(_)},null,8,["data","is-create-mode","readonly"])])])):g("",!0),e(a).drawerDetailMode&&e(c)?(p(),b("div",pe,[o(j,{modelValue:e(c),"onUpdate:modelValue":t[4]||(t[4]=u=>X(c)?c.value=u:null),title:e(D),size:"700","before-close":e(w)},{footer:s(()=>[o(M,null,{default:s(()=>[e(_)?g("",!0):(p(),T(y,{key:0,type:"primary",onClick:t[2]||(t[2]=u=>C(e(S)))},{default:s(()=>[o(n,null,{default:s(()=>[o(P)]),_:1}),me]),_:1})),o(y,{onClick:t[3]||(t[3]=u=>e(w)(e(a).drawerDetailMode))},{default:s(()=>[W("关 闭")]),_:1})]),_:1})]),default:s(()=>[i("div",_e,[o(V,{ref_key:"formDrower",ref:S,data:e(d),"is-create-mode":e(h),readonly:e(_)},null,8,["data","is-create-mode","readonly"])])]),_:1},8,["modelValue","title","before-close"])])):g("",!0)],64)}}},De=Object.freeze(Object.defineProperty({__proto__:null,default:fe},Symbol.toStringTag,{value:"Module"}));export{De as U,fe as _,le as u};
