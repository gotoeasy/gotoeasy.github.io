<!doctype html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>代码示例</title>
<link href="csjs/templatemo_style.css" rel="stylesheet" type="text/css" />
<script src="csjs/require.js" data-main="main"></script>
<script src="../js/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="http://static.oschina.net/js/syntax-highlighter-2.1.382/scripts/brush.js"></script>
<link type="text/css" rel="stylesheet" href="http://static.oschina.net/js/syntax-highlighter-2.1.382/styles/shCore.css"/>
<link type="text/css" rel="stylesheet" href="http://static.oschina.net/js/syntax-highlighter-2.1.382/styles/shThemeDefault.css"/>
<script type="text/javascript">
	function documentReady(callback) {
		///兼容FF,Google
		if (document.addEventListener) {
			document.addEventListener('DOMContentLoaded', function () {
				document.removeEventListener('DOMContentLoaded', arguments.callee, false);
				callback();
			}, false)
		}
		 //兼容IE
		else if (document.attachEvent) {
			document.attachEvent('onreadytstatechange', function () {
				  if (document.readyState == "complete") {
							document.detachEvent("onreadystatechange", arguments.callee);
							callback();
				   }
			})
		}
		else if (document.lastChild == document.body) {
			callback();
		}
	};

	documentReady(function(){
		SyntaxHighlighter.config.clipboardSwf = 'http://static.oschina.net/js/syntax-highlighter-2.1.382/scripts/clipboard.swf';
		SyntaxHighlighter.all();
	});

</script>
</head>
<body>

<span id="top"></span>
<div id="templatemo_wrapper">
	<div id="templatemo_header">
        <div id="site_title">
            <h1><a href="./index.html">Demo</a></h1>
        </div>
        <div id="templatemo_menu">
            <ul>
                <li><a href="http://gotoeasy.github.io/index.html">Home</a></li>
                <li><a href="https://github.com/gotoeasy/gotoeasy">Repository</a></li>
                <li class="last"><a href="#templatemo_footer">Comment</a></li>
            </ul>    	
        </div> <!-- end of templatemo_menu -->
	</div> <!-- end of header -->
    
     <div id="templatemo_main">
     








        <div id="contact"></div>
        <div class="content_box_top"></div>

        <div class="content_box">
            <h2>Sample</h2>
            <div class="cleaner"></div>
            <div class="col_w320 float_l">
                <h4>下拉框联动</h4>
                <div id="contact_form">
                    <form method="post" name="contact" action="#">
                        
                            <label>省</label>
                            <select data-bind="options:getOptions('1'),value:sheng">
                            </select>
                            <div class="cleaner h10"></div>

                            <label>市</label>
                            <select data-bind="options:getOptions(sheng),value:shi">
                            </select>
                            <div class="cleaner h10"></div>

                            <label>县</label>
                            <select data-bind="options:getOptions(shi),value:xian">
                            </select>
                            <div class="cleaner h10"></div>

							<input type="button" value="Send" class="submit_btn float_l" data-bind="click:fnSubmit()" />
                            
                    </form> 
                
                </div> 
            </div>
            
           <h4><font color="#cccc00">　　　// json string of data</font></h4>
           <div class="col_w320 float_r">
                <div id="jsonStr"></div>
            </div>    	


            <div class="cleaner h30"></div>
            <a class="gototop" href="#top">Go to Top</a>
            <div class="cleaner"></div>
            <div class="cleaner"></div>
        </div>
		<!-- end of a content box -->



<br>


        <div class="content_box_top"></div>

        <div class="content_box">
            <h2>Source Code</h2>
            <div class="cleaner"></div>
            <div class="col_w800 float_l">
                <h4>HTML</h4>
                <div id="contact_form" style="width:700px">
<pre class='brush: html'>
&lt;label>省&lt;/label>
&lt;select data-bind="options:getOptions('1'),value:sheng">
&lt;/select>
&lt;div class="cleaner h10">&lt;/div>

&lt;label>市&lt;/label>
&lt;select data-bind="options:getOptions(sheng),value:shi">
&lt;/select>
&lt;div class="cleaner h10">&lt;/div>

&lt;label>县&lt;/label>
&lt;select data-bind="options:getOptions(shi),value:xian">
&lt;/select>
&lt;div class="cleaner h10">&lt;/div>

&lt;input type="button" value="Send" class="submit_btn float_l" data-bind="click:fnSubmit()" />
</pre>
                </div> 
            </div>
            
            <div class="col_w800 float_l">
                <h4>JavaScript</h4>
                <div id="contact_form" style="width:700px">
<pre class='brush: js'>
define(['gotoEasy'], function($easy) {

	return function(){

		// 定义数据
		var data = {
			sheng : '0',
			mapOptions : {
				'1' : '0:请选择,a:A省,b:B省,c:C省',
				'a' : '0:请选择,a1:A1市,a2:A2市',
				'b' : '0:请选择,b1:B1市,b2:B2市,b3:B3市',
				'c' : '0:请选择,c1:C1市,c2:C2市',
				'a1' : '0:请选择,a11:A1县1,a12:A1县2,a13:A1县3',
				'a2' : '0:请选择,a21:A2县1,a22:A2县2,a23:A2县3',
				'b1' : '0:请选择,b11:B1县1,b12:B1县2,b13:B1县3',
				'b2' : '0:请选择,b21:B2县1,b22:B2县2',
				'b3' : '0:请选择,b31:B3县1,b32:B3县2,b33:B3县3',
				'c1' : '0:请选择,c11:C1县1,c12:C1县2,c13:C1县3',
				'c2' : '0:请选择,c21:C2县1,c22:C2县2'
			},

			getOptions : function(param){
				return data.mapOptions[param] || '';
			},

			fnSubmit: function(){
				alert(JSON.stringify(data, null, '  '));
			}
		};

		// 绑定数据
		$easy.bind(data);


		// 数据变更时，刷新显示数据的JSON字符串
		$easy.on('datachange', function(data, key, value, oldValue){
			// 省变化时，市待选
			key == 'sheng' && $easy.set(data, 'shi', '0');
			// 市变化时，县待选
			key == 'shi' && $easy.set(data, 'xian', '0');
			// 数据变更时，刷新显示数据的JSON字符串
			document.getElementById('jsonStr').innerHTML = '<pre>' + JSON.stringify(data, null, '  ') + '</pre>'
		});

		// ------------显示数据的JSON字符串--------------
		// 初期显示数据的JSON字符串
		document.getElementById('jsonStr').innerHTML = '&lt;pre>' + JSON.stringify(data, null, '  ') + '&lt;/pre>'
		// ----------------------------------------------
	};

});
</pre>
                </div> 
            </div>


            <div class="cleaner h30"></div>
            <a class="gototop" href="#top">Go to Top</a>
            <div class="cleaner"></div>
            <div class="cleaner"></div>
        </div> <!-- end of a content box -->


















        <div class="content_box_bottom"></div>
        
	</div> <!-- end of main -->
<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="demo-autoOptions.html" data-title="demo-autoOptions" data-url="http://gotoeasy.github.io/demo/demo-autoOptions.html"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"gotoeasy"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://gotoeasy.github.io/js/embed_ua.js'; //'http://static.duoshuo.com/embed.js'; //'http://www.lynx.im/res/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- 多说公共JS代码 end -->
    
    <div id="templatemo_footer">
    
        &copy; 2016 Zhang Ming, Licensed under the MIT license
        
	</div>
</div> <!-- end of wrapper -->

</body>
</html>
